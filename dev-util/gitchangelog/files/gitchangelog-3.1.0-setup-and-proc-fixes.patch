diff --git a/setup.cfg b/setup.cfg
index 6a2404a..398468b 100644
--- a/setup.cfg
+++ b/setup.cfg
@@ -1,6 +1,6 @@
 [metadata]
 name = gitchangelog
-version = attr: gitchangelog.gitchangelog.__version__
+version = attr: gitchangelog.__version__
 author = Valentin Lab
 author_email = valentin.lab@kalysto.org
 description = generates a changelog file from a local git checkout
diff --git a/src/gitchangelog/gitchangelog.py b/src/gitchangelog/gitchangelog.py
index 142eb99..9eca54d 100755
--- a/src/gitchangelog/gitchangelog.py
+++ b/src/gitchangelog/gitchangelog.py
@@ -1095,6 +1097,7 @@ class GitRepos:
         finally:
             plog.stdout.close()
             plog.stderr.close()
+            plog.kill()
 
 
 def first_matching(section_regexps, string):  # pylint: disable=R1710
